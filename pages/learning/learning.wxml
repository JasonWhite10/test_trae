<!-- pages/learning/learning.wxml -->
<view class="container">
  <!-- 用户信息卡片 -->
  <view class="user-card">
    <view class="user-avatar-container">
      <image class="user-avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
    </view>
    <view class="user-info">
      <view class="user-name">欢迎，{{userInfo.nickName || userInfo.name}}</view>
      <view class="user-detail">
        <text wx:if="{{userInfo.shipNumber}}">船号：{{userInfo.shipNumber}} | </text>
        <text wx:if="{{userInfo.region}}">地区：{{userInfo.region}} | </text>
        <text wx:if="{{userInfo.identity}}">身份：{{userInfo.identity}}</text>
      </view>
    </view>
    <button class="logout-btn" bindtap="logout" size="mini">退出登录</button>
  </view>

  <!-- 功能列表 -->
  <view class="function-list">
    <!-- 视频学习 -->
    <view class="function-card" bindtap="goToVideoList">
      <view class="function-icon video-icon">
        <image class="icon-img" src="/images/learning.png"></image>
      </view>
      <view class="function-info">
        <view class="function-title">视频学习</view>
        <view class="function-desc">观看安全知识视频，提升航海技能</view>
      </view>
      <view class="function-arrow"></view>
    </view>

    <!-- 答题挑战 -->
    <view class="function-card" bindtap="goToExam">
      <view class="function-icon exam-icon">
        <image class="icon-img" src="/images/exam.png"></image>
      </view>
      <view class="function-info">
        <view class="function-title">答题挑战</view>
        <view class="function-desc">测试您的航海知识，巩固学习成果</view>
      </view>
      <view class="function-arrow"></view>
    </view>

    <!-- 考试成绩 -->
    <view class="function-card" bindtap="viewExamScores">
      <view class="function-icon score-icon">
        <text class="icon-text">📊</text>
      </view>
      <view class="function-info">
        <view class="function-title">考试成绩</view>
        <view class="function-desc">查看历史考试成绩和详细解析</view>
      </view>
      <view class="function-arrow"></view>
    </view>

    <!-- 我的奖状 -->
    <view class="function-card" bindtap="viewCertificates">
      <view class="function-icon certificate-icon">
        <text class="icon-text">🏆</text>
      </view>
      <view class="function-info">
        <view class="function-title">我的奖状</view>
        <view class="function-desc">查看您获得的所有荣誉证书</view>
      </view>
      <view class="function-arrow"></view>
    </view>
  </view>
</view>